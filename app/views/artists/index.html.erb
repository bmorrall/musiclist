<%= r_page_wrapper do %>
  <%= r_page_header_wrapper do %>
    <%= r_breadcrumbs do %>
      <%= r_breadcrumbs_nav do %>
        <%= r_breadcrumbs_link artists_url do %>
          Artists
        <% end %>
      <% end %>
    <% end %>
    <%= r_page_header_body do %>
      <%= r_page_header_title "Artists" %>
      <% if policy(Artist).create? %>
        <%= r_page_header_actions do %>
          <%= r_primary_page_header_action "Create new artist", new_artist_path %>
        <% end %>
      <% end %>
    <% end %>
  <% end %>

  <%= r_table(@artists) do %>
    <thead>
      <%= r_table_header_row do %>
        <%= r_primary_table_header_cell do %>
          Artist
        <% end %>
        <%= r_table_header_cell do %>
          Albums
        <% end %>
      <% end %>
    </thead>
    <tbody>
      <% @artists.each_with_index do |artist, index| %>
        <%= r_table_row(index) do %>
          <%= r_primary_table_cell artist do %>
            <%= artist.name %>
          <% end %>
          <%= r_table_cell do %>
            <%= pluralize artist.album_count, "Album" %>
          <% end %>
          <%= r_actions_table_cell do %>
            <%= r_table_cell_action "Show", artist %>
          <% end %>
        <% end %>
      <% end %>
    </tbody>
  <% end %>
<% end %>
